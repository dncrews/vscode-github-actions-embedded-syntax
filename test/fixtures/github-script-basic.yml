name: test

on: workflow_dispatch

jobs:
  demo:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: actions/github-script@v8
        with:
          script: |
            const title = `Build for ${context.ref}`;
            const issue = context.issue;
            const labels = ["ci", "automation"];
            if (!issue.issue_number) {
              core.warning("No issue number in context");
              return;
            }
            await github.rest.issues.createComment({
              ...issue,
              body: [
                "hello",
                `labels: ${labels.join(", ")}`,
                `title: ${title}`
              ].join("\n")
            });
          retries: 2
      - uses: actions/github-script@v8
        with:
          script: >
            const x = 1;
            const y = 2;
            const sum = x + y;
            console.log({ x, y, sum });
      - uses: actions/setup-node@v6
        with:
          node-version: 24
